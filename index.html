<<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>The Patience Cave</title>
  <style>
    /* Remove default margin/padding */
    body, html {
      margin: 0;
      padding: 0;
    }
    /* Top banner image styles */
    .banner {
      width: 100%;
      height: auto;
      display: block;
    }
    /* Container for volumes with a peach background */
    .volumes-container {
      background-color: #FFDAB9; /* Peach color */
      padding: 20px;
      text-align: center;
    }
    /* Row style to layout 3 items per row */
    .volume-row {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    /* Style for links inside rows */
    .volume-row a {
      margin: 0 10px;
      text-decoration: none;
    }
    /* Ensure volume images scale nicely */
    .volume-row img {
      max-width: 100%;
      height: auto;
      display: block;
    }
  </style>
</head>
<body>
  <!-- Top centered banner image -->
  <img class="banner" src="/images/IMG_9061.jpeg" alt="Banner Image">

  <!-- Container for dynamic volume images -->
  <div class="volumes-container" id="volumesContainer">
    <!-- Volume images will be inserted here by JavaScript -->
  </div>

  <script>
    let volume = 1; // start with volume 1
    const container = document.getElementById('volumesContainer');
    let currentRow = null;

    function addVolume(volNumber) {
      // Create a new anchor and image element for this volume
      const link = document.createElement('a');
      link.href = '/volume-' + volNumber + '.html';

      const img = document.createElement('img');
      img.src = '/images/volume-' + volNumber + '/cover.png';
      img.alt = 'Volume ' + volNumber;

      // When the image loads, append it and then try loading the next volume
      img.onload = function() {
        // If no row exists or current row already has 3 images, start a new row
        if (!currentRow || currentRow.childElementCount >= 3) {
          currentRow = document.createElement('div');
          currentRow.className = 'volume-row';
          container.appendChild(currentRow);
        }
        // Append the linked image to the current row
        currentRow.appendChild(link);
        link.appendChild(img);

        // Increment and attempt to load the next volume
        volume++;
        addVolume(volume);
      };

      // If the image fails to load, stop processing further volumes
      img.onerror = function() {
        console.log('No image found for volume ' + volNumber + '. Stopping.');
      };
    }

    // Start the dynamic loading process
    addVolume(volume);
  </script>
</body>
</html>
